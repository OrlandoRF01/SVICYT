<body>
    <header>
        <p>&copy; COVEICyDET</p>
        <div class="timer">
            Tiempo restante: {{ formatoTiempo() }}
        </div>
    </header>
    <div class="card">
        <div class="proyectos-form">
            <h2>Proyectos de Investigación</h2>
            <table>
                <thead>
                    <tr>
                        <th>Título</th>
                        <th>Fecha Inicio</th>
                        <th>Fecha Termino</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let proyecto of proyectos">
                        <td>{{ proyecto.titulo }}</td>
                        <td>{{ proyecto.fechaInicio }}</td>
                        <td>{{ proyecto.fechaTermino }}</td>
                        <td>
                            <button (click)="editarProyecto(proyecto)">Editar</button>
                            <button (click)="eliminarProyecto(proyecto)">Eliminar</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button (click)="mostrarModal()" class="btn-agregar">Agregar</button>
        </div>
    </div>
    
    <div *ngIf="modalVisible" class="modal">
        <div class="modal-content">
            <h3>{{ modoEdicion ? 'Editar' : 'Agregar' }} Proyecto</h3>
            <form [formGroup]="proyectoForm" (ngSubmit)="guardarProyecto()">
                <div>
                    <label for="referencia">Referencia</label>
                    <input id="referencia" formControlName="referencia" placeholder="Referencia">
                </div>
                <div>
                    <label for="titulo">Título</label>
                    <input id="titulo" formControlName="titulo" placeholder="Título">
                </div>
                <div>
                    <label for="participacion">Participación</label>
                    <input id="participacion" formControlName="participacion" placeholder="Participación">
                </div>
                <div>
                    <label for="fechaInicio">Fecha inicio</label>
                    <input id="fechaInicio" formControlName="fechaInicio" type="date" placeholder="Fecha inicio">
                </div>
                <div>
                    <label for="fechaTermino">Fecha término</label>
                    <input id="fechaTermino" formControlName="fechaTermino" type="date" placeholder="Fecha término">
                </div>
                <div>
                    <label for="area">Área</label>
                    <input id="area" formControlName="area" placeholder="Área">
                </div>
                <div>
                    <label for="institucionPrincipal">Institución principal</label>
                    <input id="institucionPrincipal" formControlName="institucionPrincipal"
                        placeholder="Institución principal">
                </div>
                <div>
                    <label for="institucionesAsociadas">Instituciones asociadas</label>
                    <input id="institucionesAsociadas" formControlName="institucionesAsociadas"
                        placeholder="Instituciones asociadas">
                </div>
                <div>
                    <label>Fuente de financiamiento:</label>
                    <div>
                        <label>
                            <input type="checkbox" formControlName="fuenteGobFederal"> Gob. Federal
                        </label>
                        <label>
                            <input type="checkbox" formControlName="fuenteGobEstatal"> Gob. Estatal
                        </label>
                        <label>
                            <input type="checkbox" formControlName="fuenteConacyt"> CONACYT
                        </label>
                        <label>
                            <input type="checkbox" formControlName="fuenteONG"> ONG
                        </label>
                        <label>
                            <input type="checkbox" formControlName="fuenteFomix"> FOMIX
                        </label>
                        <label>
                            <input type="checkbox" formControlName="fuenteInstitucion"> Institución perteneciente
                        </label>
                        <label>
                            <input type="checkbox" formControlName="fuenteOtro"> Otro
                        </label>
                    </div>
                </div>
                <div>
                    <label for="montoFinanciamiento">Monto del financiamiento</label>
                    <input id="montoFinanciamiento" formControlName="montoFinanciamiento"
                        placeholder="Monto del financiamiento">
                </div>
                <div>
                    <label>Productos derivados:</label>
                    <div>
                        <label>
                            <input type="checkbox" formControlName="reporteTecnico"> Reporte técnico
                        </label>
                        <label>
                            <input type="checkbox" formControlName="prototipo"> Prototipo
                        </label>
                        <label>
                            <input type="checkbox" formControlName="publicacion"> Publicación
                        </label>
                    </div>
                </div>
                <div>
                    <label for="usuarios">Usuarios</label>
                    <input id="usuarios" formControlName="usuarios" placeholder="Usuarios">
                </div>
                <div class="button-container">
                    <button type="submit">Guardar</button>
                    <button type="button" (click)="cerrarModal()">Cancelar</button>
                </div>
            </form>
        </div>
    </div>
    
    <footer>
        <p>&copy; COVEICyDET | 2022 | Todos los derechos reservados</p>
    </footer>

</body>